<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.87.0" />
    <meta name="description" content="">
<meta name="author" content="Philip Lei">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>3-1 Background :: COMP312 notes</title>

    
    <link href="/css/nucleus.css?1632280221" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1632280221" rel="stylesheet">
    <link href="/css/featherlight.min.css?1632280221" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1632280221" rel="stylesheet">
    <link href="/css/auto-complete.css?1632280221" rel="stylesheet">
    <link href="/css/theme.css?1632280221" rel="stylesheet">
    <link href="/css/tabs.css?1632280221" rel="stylesheet">
    <link href="/css/hugo-theme.css?1632280221" rel="stylesheet">
    
    <link href="/css/theme-green.css?1632280221" rel="stylesheet">
    
    

    <script src="/js/jquery.min.js?1632280221"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/client/3-1/">
    <nav id="sidebar" class="">
  
  
  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://philiplei.github.io">
    <i class="fas fa-file-code"></i> <b>COMP312 course notes</b>
</a>

    </div>
    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href="/"><i class="fas fa-home"></i> Home</a>
        </li>
      </ul>
    </section>
  

  <div class="highlightable">
    <ul class="topics">
      
        
        





  
		
    
      
      
      <li data-nav-id="/basic/" title="JavaScript basics" class="dd-item">
        <a href="/basic/">
          
JavaScript basics

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/basic/2-1/" title="2-1 Basic data types and control" class="dd-item">
        <a href="/basic/2-1/">
          
2-1 Basic data types and control

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-2/" title="2-2 Arrays" class="dd-item">
        <a href="/basic/2-2/">
          
2-2 Arrays

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-3/" title="2-3 Functions" class="dd-item">
        <a href="/basic/2-3/">
          
2-3 Functions

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-4/" title="2-4 Objects as data structure" class="dd-item">
        <a href="/basic/2-4/">
          
2-4 Objects as data structure

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-5/" title="2-5 Functions as objects and callbacks" class="dd-item">
        <a href="/basic/2-5/">
          
2-5 Functions as objects and callbacks

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-6/" title="2-6 Objects with methods" class="dd-item">
        <a href="/basic/2-6/">
          
2-6 Objects with methods

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/basic/2-7/" title="2-7 Defining class" class="dd-item">
        <a href="/basic/2-7/">
          
2-7 Defining class

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/client/" title="Client-side programming" class="dd-item parent">
        <a href="/client/">
          
Client-side programming

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/client/3-1/" title="3-1 Background" class="dd-item active">
        <a href="/client/3-1/">
          
3-1 Background

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-2/" title="3-2 Vue application basics" class="dd-item">
        <a href="/client/3-2/">
          
3-2 Vue application basics

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-3/" title="3-3 Dynamic structure in template" class="dd-item">
        <a href="/client/3-3/">
          
3-3 Dynamic structure in template

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-4/" title="3-4 Events, methods and component lifecycle" class="dd-item">
        <a href="/client/3-4/">
          
3-4 Events, methods and component lifecycle

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-5/" title="3-5 Form controls and bi-directional binding" class="dd-item">
        <a href="/client/3-5/">
          
3-5 Form controls and bi-directional binding

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-6/" title="3-6 Component: motivation and features" class="dd-item">
        <a href="/client/3-6/">
          
3-6 Component: motivation and features

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-7/" title="3-7 Vue projects and build tools" class="dd-item">
        <a href="/client/3-7/">
          
3-7 Vue projects and build tools

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/client/3-8/" title="3-8 Make your own components" class="dd-item">
        <a href="/client/3-8/">
          
3-8 Make your own components

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
        





  
		
    
      
      
      <li data-nav-id="/server/" title="Server-side programming" class="dd-item">
        <a href="/server/">
          
Server-side programming

          
        </a>
        <ul>
          
          
          

          
            
            





  
		
    
      <li data-nav-id="/server/4-1/" title="4-1 Node.js primer" class="dd-item">
        <a href="/server/4-1/">
          
4-1 Node.js primer

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/server/4-2/" title="4-2 Asynchronous callback" class="dd-item">
        <a href="/server/4-2/">
          
4-2 Asynchronous callback

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/server/4-3/" title="4-3 Promise, await and async" class="dd-item">
        <a href="/server/4-3/">
          
4-3 Promise, await and async

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/server/4-4/" title="4-4 Modules, import and export" class="dd-item">
        <a href="/server/4-4/">
          
4-4 Modules, import and export

          
        </a>
      </li>
    
  

            
            





  
		
    
      <li data-nav-id="/server/4-5/" title="4-5 Database access" class="dd-item">
        <a href="/server/4-5/">
          
4-5 Database access

          
        </a>
      </li>
    
  

            
          
        </ul>
      </li>
    
  

        
      
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/'></a> > <a href='/client/'>Client-side programming</a> > 3-1 Background
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#document-tree-and-dom">Document tree and DOM</a></li>
    <li><a href="#mvvm-and-vue">MVVM and Vue</a></li>
    <li><a href="#a-note-on-loading-javascript-code">A note on loading JavaScript code</a></li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              3-1 Background
            </h1>
          

        


<h2 id="document-tree-and-dom">Document tree and DOM</h2>
<p>When a web browser loads an HTML page from a web server, it converts the HTML code into a tree data structure known as <strong>document tree</strong>. All user interactions in the client-side of a web app are done through this DOM tree.</p>
<p>The Document Object Model standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model">(online ref)</a>  defines a programming interface to access the document tree. Each HTML element is represented by a node in the tree. DOM defines the properties, methods and events for these nodes, and the nodes are accessible to JavaScript as objects. In summary, DOM defines how JavaScript code can access and manipulate nodes in a document tree.</p>
<p>The example <a href="/chap3/p300-a.html">p300-a.html</a> shows some common tasks in a web app. In this app, the user enters two numbers in text input boxes, presses a button to calculate the sum, and displays the result inside the web page.</p>
<ul>
<li>document tree in JavaScript: <code>document</code></li>
<li>search a node using id of the element: <code>let numA = document.getElementById('numA')</code></li>
<li>each element is an object (with properties and methods)</li>
<li>change a property of the node object: <code>ans.innerText = 'something'</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:3;-o-tab-size:3;tab-size:3"><code class="language-HTML" data-lang="HTML"><span style="color:#75715e">&lt;!doctype html&gt;</span>
&lt;<span style="color:#f92672">html</span>&gt;
&lt;<span style="color:#f92672">head</span>&gt;
  &lt;<span style="color:#f92672">title</span>&gt;First example&lt;/<span style="color:#f92672">title</span>&gt;
&lt;/<span style="color:#f92672">head</span>&gt;
&lt;<span style="color:#f92672">body</span>&gt;
  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;This example adds two numbers.&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;a: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;numA&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;3&#39;</span> /&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;b: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;numB&#34;</span> <span style="color:#a6e22e">value</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;5&#39;</span> /&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;button&#39;</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;btnAdd&#34;</span>&gt;Calculate!&lt;/<span style="color:#f92672">button</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;a+b = &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ans&#34;</span>&gt;&lt;/<span style="color:#f92672">span</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;
  
  <span style="color:#75715e">&lt;!-- embedded JavaScript program --&gt;</span>
  &lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">numA</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;numA&#39;</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">numB</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;numB&#39;</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">ans</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;ans&#39;</span>);
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">btnAdd</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">getElementById</span>(<span style="color:#e6db74">&#39;btnAdd&#39;</span>);
  
  <span style="color:#a6e22e">btnAdd</span>.<span style="color:#a6e22e">addEventListener</span>(<span style="color:#e6db74">&#39;click&#39;</span>, <span style="color:#66d9ef">function</span>() {
    <span style="color:#a6e22e">ans</span>.<span style="color:#a6e22e">innerHTML</span> <span style="color:#f92672">=</span> parseFloat(<span style="color:#a6e22e">numA</span>.<span style="color:#a6e22e">value</span>) <span style="color:#f92672">+</span> parseFloat(<span style="color:#a6e22e">numB</span>.<span style="color:#a6e22e">value</span>)
  });
  &lt;/<span style="color:#f92672">script</span>&gt;
&lt;/<span style="color:#f92672">body</span>&gt;
&lt;/<span style="color:#f92672">html</span>&gt;
</code></pre></div><h2 id="mvvm-and-vue">MVVM and Vue</h2>
<p>The above example demonstrates <strong>document tree manipulation</strong>, a common style of programming during the early day of client-side programming. When some data changes, the program has to update different parts of the document tree. The programmer has to keep track of which parts of the document tree are affected by which piece of data.</p>
<p>Although it can be facilitated with some higher level JavaScript library like <a href="http://jquery.com/">jQuery</a>, document tree manipulation does not scale well when web applications and their user interface become more complicated. In order to handle such complexity, web developers have adopted another approach known as MVVM (<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel">Model-view-viewmodel</a>). Several popular JavaScript framework (e.g. <a href="https://reactjs.org/">React</a>, <a href="https://angularjs.org/">AngularJS</a> and <a href="https://vuejs.org/">Vue</a>) implement MVVM (or a similar framework).</p>
<p>In this chapter, we&rsquo;ll use <strong>Vue.js</strong> to illustrate the MVVM approach in client-side programming. The following example <a href="/chap3/p300-b.html">p300-b.html</a> is a rewrite of p300-a.html using Vue.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:3;-o-tab-size:3;tab-size:3"><code class="language-HTML" data-lang="HTML">  &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;This example adds two numbers.&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;a: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">number</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;a&#34;</span> /&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;b: &lt;<span style="color:#f92672">input</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;text&#34;</span> <span style="color:#a6e22e">v-model</span><span style="color:#960050;background-color:#1e0010">.</span><span style="color:#a6e22e">number</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;b&#34;</span> /&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;&lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">type</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;button&#39;</span> <span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">click</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ans=a+b&#34;</span> &gt;Calculate!&lt;/<span style="color:#f92672">button</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
    &lt;<span style="color:#f92672">p</span>&gt;a+b = &lt;<span style="color:#f92672">span</span> <span style="color:#a6e22e">id</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ans&#34;</span>&gt;{{ ans }}&lt;/<span style="color:#f92672">span</span>&gt;&lt;/<span style="color:#f92672">p</span>&gt;
  &lt;/<span style="color:#f92672">div</span>&gt;

  <span style="color:#75715e">&lt;!-- loading the Vue v3.2 JavaScript library from CDN --&gt;</span>    
  &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://unpkg.com/vue@3.2&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
  &lt;<span style="color:#f92672">script</span>&gt;
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">options</span> <span style="color:#f92672">=</span> { 
    <span style="color:#a6e22e">data</span>() { 
      <span style="color:#66d9ef">return</span> { <span style="color:#a6e22e">a</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">3</span>, <span style="color:#a6e22e">b</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>, <span style="color:#a6e22e">ans</span><span style="color:#f92672">:</span><span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">5</span> }
    }
  };
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">vm</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Vue</span>.<span style="color:#a6e22e">createApp</span>(<span style="color:#a6e22e">options</span>).<span style="color:#a6e22e">mount</span>(<span style="color:#e6db74">&#39;#app&#39;</span>);
  &lt;/<span style="color:#f92672">script</span>&gt; 
</code></pre></div><p>This example shows some differences in the Vue.js application:</p>
<ul>
<li>define a view model (the return value of <code>data()</code>), which is a JavaScript data structure that encapsulates the state of the current view in the web interface</li>
<li>write a template to render the data in html (the HTML code at <code>#app</code>). Usually a html template contains placeholders that bind to some data property. When a data property changes value, Vue updates the view efficiently.</li>
</ul>
<h2 id="a-note-on-loading-javascript-code">A note on loading JavaScript code</h2>
<p>We use the following HTML code to load the Vue library (which is a JavaScript file) from a CDN. You can also load a JavaScript file locally (from the same site as your web app). In case you use several third-party JavaScript libraries and/or develop complicated JavaScript code yourself, it is even better to use a JavaScript bundler to combine the JavaScript files into a few compressed files. This gives a faster load page.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:3;-o-tab-size:3;tab-size:3"><code class="language-HTML" data-lang="HTML">&lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;https://unpkg.com/vue@3.2&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</code></pre></div><p>After loading the Vue library, we can load our own code. You can save the code in a separate <code>js</code> file and load with a syntax similar to above. Alternatively, you can <strong>embed</strong> the code within a <code>&lt;script&gt;</code> element, as in our example.</p>
<p>We embed JavaScript code in many of our example for sake of simplicity. However, in production code, it is generally recommended to remove JavaScript code from HTML file and move them to external JavaScript file.</p>



<footer class="footline">
    
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        
        
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1632280222"></script>
    <script src="/js/perfect-scrollbar.min.js?1632280222"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1632280222"></script>
    <script src="/js/jquery.sticky.js?1632280222"></script>
    <script src="/js/jquery.svg.pan.zoom.js?1632280222"></script>
    <script src="/js/featherlight.min.js?1632280222"></script>
    <script src="/js/modernizr.custom-3.6.0.js?1632280222"></script>
    
        
            <script src="/js/mermaid.min.js?1632280222"></script>
        
        
            
        
        <script>
            if (mermaid) {
                mermaid.mermaidAPI.initialize( Object.assign( { "securityLevel": "antiscript" }, JSON.parse("{ \"startOnLoad\": true }"), { startOnLoad: false } ) );
            }
        </script>
    
    <script src="/js/relearn.js?1632280222"></script>
    

  </body>
</html>

